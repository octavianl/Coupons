<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Store | Hero User Guide</title>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
		<script type="text/javascript" src="./../../js/shCore.js"></script>
		<script type="text/javascript" src="./../../js/shBrushPhp.js"></script>
		<script type="text/javascript" src="./../../js/shBrushXml.js"></script>
		<script type="text/javascript" src="./../../js/user_guide.js"></script>
		<link href="./../../css/user_guide.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shCore.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="./../../css/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="header">
			Hero <span class="sub">/ User Guide</span>
		</div>
		<div class="body">
			<div id="navigation">
				<ul>
					<li>
						<a rel="basic" class="parent" href="#">Basic Details</a>
						<ul>
							<li>
								<a href="./../../index.html">Welcome to Hero</a>
							</li>
							<li>
								<a href="./../../license.html">License Agreement</a>
							</li>
							<li>
								<a href="./../../changelog.html">Changelog</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="installation" class="parent" href="#">Installation</a>
						<ul>
							<li>
								<a href="./../../installation/server_requirements.html">Server Requirements</a>
							</li>
							<li>
								<a href="./../../installation/installation.html">Fresh Installation</a>
							</li>
							<li>
								<a href="./../../installation/upgrading.html">Upgrading</a>
							</li>
							<li>
								<a href="./../../installation/migration.html">Migration</a>
							</li>
							<li>
								<a href="./../../installation/troubleshooting.html">Troubleshooting</a>
							</li>
							<li>
								<a href="./../../installation/deployment.html">Mass Deployment</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="configuration" class="parent" href="#">Configuration</a>
						<ul>
							<li>
								<a href="./../../configuration/settings.html">Settings</a>
							</li>
							<li>
								<a href="./../../configuration/coupon_codes.html">Coupon Codes</a>
							</li>
							<li>
								<a href="./../../configuration/branding.html">Custom Branding</a>
							</li>
							<li>
								<a href="./../../configuration/custom_fields.html">Custom Fields</a>
							</li>
							<li>
								<a href="./../../configuration/emails.html">Emails</a>
							</li>
							<li>
								<a href="./../../configuration/importing_members.html">Importing Members</a>
							</li>
							<li>
								<a href="./../../configuration/member_groups.html">Member Groups</a>
							</li>
							<li>
								<a href="./../../configuration/payment_gateways.html">Payment Gateways</a>
							</li>
							<li>
								<a href="./../../configuration/reports.html">Reports</a>
							</li>
							<li>
								<a href="./../../configuration/search.html">Search</a>
							</li>
							<li>
								<a href="./../../configuration/security.html">Security</a>
							</li>
							<li>
								<a href="./../../configuration/shipping.html">Shipping Rates</a>
							</li>
							<li>
								<a href="./../../configuration/subscriptions.html">Subscriptions</a>
							</li>
							<li>
								<a href="./../../configuration/taxes.html">Taxes</a>
							</li>
							<li>
								<a href="./../../configuration/advanced.html">Advanced</a>
							</li>
						</ul>
					</li>
					<li>
						<a rel="publishing" class="parent" href="#">Publishing</a>
						<ul>
							<li><a href="./../../publishing/blogs.html">Blogs</a></li>
							<li><a href="./../../publishing/content.html">Content &amp; Content Types</a></li>
							<li><a href="./../../publishing/forms.html">Forms</a></li>
							<li><a href="./../../publishing/menus.html">Navigation Menus</a></li>
							<li><a href="./../../publishing/rss_feeds.html">RSS Feeds</a></li>
							<li><a href="./../../publishing/store.html">Store Products &amp; Collections</a>
							<li><a href="./../../publishing/topics.html">Topics</a></li>
						</ul>
					</li>
					<li>
						<a rel="designers" class="parent active" href="#">Designing</a>
						<ul>
							<li><a href="./../../designers/index.html">Designer Introduction</a></li>
							<li><a href="./../../designers/smarty.html">Smarty Template Engine</a></li>
							<li><a href="./../../designers/includes.html">Stylesheets &amp; JavaScript</a></li>
							<li><a href="./../../designers/template_plugins.html">Template Plugins</a></li>
							<li><a href="./../../designers/mapping_urls.html">Mapping URL's</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../designers/reference/global_variables.html">Global Variables</a></li>
							<li class="reference"><a href="./../../designers/reference/global_plugins.html">Global Plugins</a></li>
							<li class="reference"><a href="./../../designers/reference/blogs.html">Blogs &amp; Archives</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
							<li class="reference"><a href="./../../designers/reference/forms.html">Forms</a></li>
							<li class="reference"><a href="./../../designers/reference/members.html">Members</a></li>
							<li class="reference"><a href="./../../designers/reference/menus.html">Navigation Menus</a></li>
							<li class="reference"><a href="./../../designers/reference/paywall_privileges.html">Access Restrictions &amp; Paywalls</a></li>
							<li class="reference"><a href="./../../designers/reference/publish.html">Published Content &amp; Topics</a></li>
							<li class="reference"><a href="./../../designers/reference/rss_feeds.html">RSS Feeds</a></li>
							<li class="reference"><a href="./../../designers/reference/search.html">Search Forms &amp; Results</a></li>
							<li class="reference"><a href="./../../designers/reference/store.html">Store Products &amp; Collections</a></li>
							<li class="reference"><a href="./../../designers/reference/subscriptions.html">Subscriptions</a></li>
							<li class="reference"><a href="./../../designers/reference/custom_fields.html">Custom Fields</a></li>
						</ul>
					</li>
					<li>
						<a rel="developers" class="parent" href="#">Developing</a>
						<ul>
							<li><a href="./../../developers/index.html">Developer Introduction</a></li>
							<li><a href="./../../developers/codeigniter.html">CodeIgniter</a></li>
							<li><a href="./../../developers/standards.html">Standards &amp; Best Practices</a></li>
							<li><a href="./../../developers/security.html">Security</a></li>
							<li><a href="./../../developers/modules.html">Module Development</a></li>
							<li><a href="./../../developers/template_plugins.html">Template Plugin Development</a></li>
							<li><a href="./../../developers/cronjobs.html">Cronjobs &amp; Automated Processes</a></li>
							<li><a href="./../../developers/forms.html">Forms &amp; Custom Fieldtypes</a></li>
							<li><a href="./../../developers/errors_logging.html">Errors &amp; Logging</a></li>
							<li><a href="./../../developers/profiling.html">Debug/Profile Mode</a></li>
							<li class="reference">Reference</li>
							<li class="reference"><a href="./../../developers/reference/admin_form_library.html">Admin Form Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/admin_navigation_library.html">Admin Navigation Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/app_hooks_library.html">App Hooks Library</a></li>
							<li class="reference"><a href="./../../developers/reference/array_to_csv_library.html">Array to CSV Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/array_to_json_helper.html">Array to JSON Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/blog_model.html">Blog Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/cart_model.html">Cart Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/clean_string_helper.html">Clean String Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/collections_mode.html">Collections Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/content_model.html">Content Model</a></li>
							<li class="reference"><a href="./../../developers/reference/content_type_model.html">Content Type Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/coupon_model.html">Coupon Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/custom_fields_model.html">Custom Fields Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/dataset_library.html">Dataset Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/email_model.html">Email Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/fieldtype_library.html">Fieldtype Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_builder_library.html">Form Builder Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/form_model.html">Form Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/image_thumb_helper.html">Image Thumb Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/invoice_model.html">Invoice Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/head_assets_library.html">Head Assets Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/link_model.html">Link Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/login_model.html">Login Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/menu_model.html">Menu Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/notices_library.html">Notices Library</a></li>
							<li class="reference"><a href="./../../developers/reference/order_model.html">Order Model</a></li>  
							<li class="reference"><a href="./../../developers/reference/products_model.html">Products Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/product_option_model.html">Product Option Model</a></li>
							<li class="reference"><a href="./../../developers/reference/rss_model.html">RSS Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/setting_helper.html">Setting Helper</a></li>
							<li class="reference"><a href="./../../developers/reference/settings_model.html">Settings Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/shipping_model.html">Shipping Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/states_model.html">States Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/stats_library.html">Stats Library</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_model.html">Subscription Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/subscription_plan_model.html">Subscription Plan Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/taxes_model.html">Taxes Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/template_files_helper.html">Template Files Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/theme_model.html">Theme Model</a></li>
							<li class="reference"><a href="./../../developers/reference/time_since_helper.html">Time Since Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/topic_model.html">Topic Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/url_helper.html">URL Helper</a></li> 
							<li class="reference"><a href="./../../developers/reference/user_model.html">User Model</a></li> 
							<li class="reference"><a href="./../../developers/reference/usergroup_model.html">Usergroup Model</a></li> 
						</ul>
						
					</li>
				</ul>
			</div>
			<div id="content">
				<h1>Store</h1>

<p>Within the store, we have <strong>products</strong> and <strong>collections</strong> that can all be flexibly retrieved and displayed.  We also have the store shopping cart page which can be styled and modified as you wish.</p>

<h2>Important URL's</h2>

<ul>
<li><span class="url">/store</span> - The main store page showing parent collections and products without collections.</li>
<li><span class="url">/store/c/12345</span> - An example link to a store collection with ID "12345".</li>
<li><span class="url">/store/p/12345</span> - An example link to a store product with ID "12345".</li>
<li><span class="url">/store/cart</span> - The active user's shopping cart</li>
</ul>

<h2>Templates</h2>

<ul>
<li><span class="filename">store_listing.thtml</span> - The main store browsing template displaying product and collection listings.  Also displays the store's main page.</li>
<li><span class="filename">store_product.thtml</span> - Displays an individual product</li>
<li><span class="filename">store_cart.thtml</span> - Displays the active user's shopping cart</li>
</ul>

<h2>Product Template Variables</h2>

<p>The following variables are available within the <span class="filename">store_product.thtml</span> template in the form of <span class="code">{$variable}</span>, within <span class="filename">store_listing.thtml</span> as <span class="code">{$products.variable}</span>, and also within any template tags (documented below) in the form of <span class="code">{$array.variable}</span>.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Variables</td>
		</tr>
		<tr>
			<td class="variable_name">Variable</td>
			<td class="variable_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="code">{$id}</span></td>
			<td>The product ID.</td>
		</tr>
		<tr>
			<td><span class="code">{$url}</span></td>
			<td>The absolute URL to the product page (e.g., http://www.example.com/store/p/12345).</td>
		</tr>
		<tr>
			<td><span class="code">{$url_path}</span></td>
			<td>The relative URL to the product page (e.g., /store/p/12345).</td>
		</tr>
		<tr>
			<td><span class="code">{$quick_add_to_cart_url}</span></td>
			<td>A link which adds the product to the cart and redirects the user to their cart.</td>
		</tr>
		<tr>
			<td><span class="code">{$collections}</span></td>
			<td>An array of collection ID's for collections the product belongs to.</td>
		</tr>
		<tr>
			<td><span class="code">{$name}</span></td>
			<td>The product's name.</td>
		</tr>
		<tr>
			<td><span class="code">{$description}</span></td>
			<td>The product's description</td>
		</tr>
		<tr>
			<td><span class="code">{$price}</span></td>
			<td>The price of the product, without a currency symbol, but formatted properly (e.g., "45.00").</td>
		</tr>
		<tr>
			<td><span class="code">{$member_tiers}</span></td>
			<td>An array containing member group pricing, if indicated.  Each array key is a member group ID # and its corresponding value is their special price.</td>
		</tr>
		<tr>
			<td><span class="code">{$weight}</span></td>
			<td></td>
		</tr>
		<tr>
			<td><span class="code">{$requires_shipping}</span></td>
			<td>Set to TRUE if the product requires a shipping address, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$track_inventory}</span></td>
			<td>Set to TRUE if the product's inventory is tracked, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$inventory}</span></td>
			<td>The current number of this product in stock, if being tracked, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$inventory_allow_oversell}</span></td>
			<td>Set to TRUE if the product can be sold at 0 inventory, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$sku}</span></td>
			<td></td>
		</tr>
		<tr>
			<td><span class="code">{$is_taxable}</span></td>
			<td>Set to TRUE if taxes apply to this product, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$is_download}</span></td>
			<td>Set to TRUE if the product is downloadable, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$download_name}</span></td>
			<td>The filename of the product's download, if it is a downloadable product.</td>
		</tr>
		<tr>
			<td><span class="code">{$download_fullpath}</span></td>
			<td>The fullpath to the product download file, relative to the Caribou root.  Usable in <span class="code">{protected_link}</span> calls.</td>
		</tr>
		<tr>
			<td><span class="code">{$download_size}</span></td>
			<td>The filesize of the product's download, in bytes.</td>
		</tr>
		<tr>
			<td><span class="code">{$feature_image}</span></td>
			<td>The full server path to the product's feature image, if available.</td>
		</tr>
		<tr>
			<td><span class="code">{$feature_image_url}</span></td>
			<td>An absolute URL for the product's feature image, if available.</td>
		</tr>
		<tr>
			<td><span class="code">{$images}</span></td>
			<td>An array of all of the product images, if available.</td>
		</tr>
	</tbody>
</table>

<h3>Displaying Product Images</h3>

<p>Within the product page (typically the <span class="code">store_product.thtml</span> template, the <span class="code">{$images}</span> holds an array of all product images (or <span class="code">FALSE</span> if none exist).  It can be iterated through like this:</p>

<pre class="code brush: xml">

{if $images}
	&lt;div class=&quot;images&quot;&gt;
		&lt;ul&gt;
			{foreach $images as $image}
				{assign var=&quot;image_id&quot; value=$image.id}
				&lt;li&gt;&lt;a href=&quot;{$image.url}&quot;&gt;&lt;img src=&quot;{thumbnail path=$image.path height=&quot;50&quot; width=&quot;50&quot;}&quot; alt=&quot;click to enlarge&quot; title=&quot;click to enlarge&quot; /&gt;&lt;/a&gt;
			{/foreach}
		&lt;/ul&gt;
	&lt;/div&gt;
{/if}

</pre>

<h2>Collection Template Variables</h2>

<p>The following variables are available when viewing a specific collection in <span class="filename">store_listing.thtml</span>.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Variables</td>
		</tr>
		<tr>
			<td class="variable_name">Variable</td>
			<td class="variable_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="code">{$id}</span></td>
			<td>The collection ID.</td>
		</tr>
		<tr>
			<td><span class="code">{$name}</span></td>
			<td>The collection name.</td>
		</tr>
		<tr>
			<td><span class="code">{$description}</span></td>
			<td>The collection description.</td>
		</tr>
		<tr>
			<td><span class="code">{$parent}</span></td>
			<td>The collection's parent collection ID, if it has a parent.</td>
		</tr>
		<tr>
			<td><span class="code">{$url}</span></td>
			<td>The absolute URL for the collection store browsing page.</td>
		</tr>
	</tbody>
</table>

<h2>Cart Template Variables</h2>

<p>When viewing the cart via the <span class="filename">store_cart.thtml</span> template, or when using the <span class="code">{cart}</span> template plugin (documented below), the following variables are available for each product/subscription.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Variables</td>
		</tr>
		<tr>
			<td class="variable_name">Variable</td>
			<td class="variable_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="code">{$name}</span></td>
			<td>The product/subscription name.</td>
		</tr>
		<tr>
			<td><span class="code">{$id}</span></td>
			<td>The product/subscription ID.</td>
		</tr>
		<tr>
			<td><span class="code">{$qty}</span></td>
			<td>How many of this product is in the cart?</td>
		</tr>
		<tr>
			<td><span class="code">{$is_subscription}</span></td>
			<td>Set to TRUE if the product is a subscription, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$price}</span></td>
			<td>The price of an individual one of these product(s).  Use <span class="code">{$subtotal}</span> for the total price of this product in the current cart.</td>
		</tr>
		<tr>
			<td><span class="code">{$recurring_price}</span></td>
			<td>If this is a subscription, this will be the recurring charge going forward.</td>
		</tr>
		<tr>
			<td><span class="code">{$free_trial}</span></td>
			<td>If this is a subscription, this will be the number of days offered as a free trial, if applicable.</td>
		</tr>
		<tr>
			<td><span class="code">{$free_trial_no_billing}</span></td>
			<td>Set to TRUE if the user has a free trial without entering payment information.</td>
		</tr>
		<tr>
			<td><span class="code">{$interval}</span></td>
			<td>If this a subscription, this is the number of days between subscription charges.</td>
		</tr>
		<tr>
			<td><span class="code">{$occurrences}</span></td>
			<td>This is the total number of occurrences for this subscription.</td>
		</tr>
		<tr>
			<td><span class="code">{$renew_subscription_id}</span></td>
			<td>If this is a subscription and we are renewing a subscription, the old subscription is stored here.</td>
		</tr>
		<tr>
			<td><span class="code">{$weight}</span></td>
			<td>The product's weight.</td>
		</tr>
		<tr>
			<td><span class="code">{$requires_shipping}</span></td>
			<td>Set to TRUE if the product requires a shipping address, else FALSE.</td>
		</tr>
		<tr>
			<td><span class="code">{$subtotal}</span></td>
			<td>The total cost of the product, to be charged today.</td>
		</tr>
		<tr>
			<td><span class="code">{$remove_link}</span></td>
			<td>An absolute URL link which, when accessed, removes this product from the user's cart and redirects them back to the cart.</td>
		</tr>
	</tbody>
</table>

<h2>Example Product Page Template</h2>

<div class="note">This page uses Shadowbox to display the images, and includes the Shadowbox code <a href="./../../designers/includes.html">using the "head_includes" block method of inclusion</a>.</div>

<pre class="code brush: xml">

{extends file=&quot;layout.thtml&quot;}
{block name=&quot;title&quot;}
{$name} - {$smarty.block.parent}
{/block}
{block name=&quot;head_includes&quot;}
	&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;{url path=&quot;themes/_common/shadowbox/shadowbox.css&quot;}&quot; /&gt;
	&lt;script type=&quot;text/javascript&quot; src=&quot;{url path=&quot;themes/_common/shadowbox/shadowbox.js&quot;}&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
		Shadowbox.init();
	&lt;/script&gt;
	{$smarty.block.parent}
{/block}
{block name=&quot;content&quot;}
	&lt;h1&gt;{$name}&lt;/h1&gt;
	
	&lt;div class=&quot;product&quot;&gt;
		{if $images}
			&lt;div class=&quot;images&quot;&gt;
				&lt;a rel=&quot;shadowbox[product_images]&quot; href=&quot;{$feature_image_url}&quot; class=&quot;feature_image&quot;&gt;&lt;img src=&quot;{thumbnail path=$feature_image height=&quot;165&quot; width=&quot;165&quot;}&quot; alt=&quot;{$name}&quot; /&gt;&lt;/a&gt;
				&lt;ul&gt;
					{foreach $images as $image}
						{&#042; we don't want to show the feature image twice &#042;}
						{if $image.path != $feature_image}
							{assign var=&quot;image_id&quot; value=$image.id}
							&lt;li&gt;&lt;a rel=&quot;shadowbox[product_images]&quot; href=&quot;{$image.url}&quot;&gt;&lt;img src=&quot;{thumbnail path=$image.path height=&quot;50&quot; width=&quot;50&quot;}&quot; alt=&quot;click to enlarge&quot; title=&quot;click to enlarge&quot; /&gt;&lt;/a&gt;
						{/if}
					{/foreach}
				&lt;/ul&gt;
			&lt;/div&gt;
		{/if}
		&lt;div class=&quot;description {if !$images}full{/if}&quot;&gt;
			&lt;div class=&quot;cart_form&quot;&gt;
				{if $track_inventory and !$inventory_allow_oversell and $inventory &lt; 1}
					&lt;p&gt;Unfortunately, this product is sold out.  Please check back again later.&lt;/p&gt;
				{else}
					{setting name=&quot;currency_symbol&quot;}{$price}
					
					&lt;form method=&quot;post&quot; action=&quot;{url path=&quot;store/add_to_cart&quot;}&quot;&gt;
						&lt;input type=&quot;hidden&quot; name=&quot;product_id&quot; value=&quot;{$id}&quot; /&gt;
						
						{if $options}
							&lt;ul&gt;
							{foreach $options as $option}
								&lt;li&gt;
									&lt;select name=&quot;option_{$option}&quot;&gt;
										{if $product_options[$option]['options']}
											{foreach $product_options[$option]['options'] as $value}
												&lt;option value=&quot;{$value.label}&quot;&gt;{$value.label}{if $value.price != &quot;0&quot;} ({setting name=&quot;currency_symbol&quot;}{money_format value=$value.price}){/if}&lt;/option&gt;
											{/foreach}
										{/if}
									&lt;/select&gt;
								&lt;/li&gt;
							{/foreach}
							&lt;/ul&gt;
						{/if}
						
						Quantity: &lt;input type=&quot;text&quot; style=&quot;width: 40px&quot; name=&quot;quantity&quot; value=&quot;1&quot; /&gt;
						&lt;input type=&quot;submit&quot; class=&quot;button&quot; name=&quot;add_to_cart&quot; value=&quot;Add to Cart&quot; /&gt;
					&lt;/form&gt;
				{/if}
			&lt;/div&gt;
			
			{$description}
		&lt;/div&gt;
	&lt;/div&gt;
{/block}

</pre>

<h2>Example Store Listing Template</h2>

<p>List collections and products, like categories.</p>

<pre class="code brush: xml">

{extends file=&quot;layout.thtml&quot;}
{block name=&quot;title&quot;}
{if $title}{$title}{elseif $collection}{$collection.name}{/if} - {$smarty.block.parent}
{/block}
{block name=&quot;content&quot;}
	&lt;h1&gt;Browse Our Store&lt;/h1&gt;
	
	&lt;div class=&quot;store&quot;&gt;
		{if $collections}
			&lt;ul class=&quot;collections&quot;&gt;
			{foreach $collections as $collection}
				&lt;li&gt;
					&lt;a class=&quot;name&quot; href=&quot;{$collection.url}&quot;&gt;{$collection.name}&lt;/a&gt;
					{if $collection.description}&lt;div class=&quot;description&quot;&gt;{$collection.description}&lt;/div&gt;{/if}
				&lt;/li&gt;
			{/foreach}
			&lt;/ul&gt;
		{/if}
		
		{if $products}
			&lt;ul class=&quot;products&quot;&gt;
			{foreach $products as $product}
				&lt;li&gt;
					{if $product.feature_image}
						&lt;a href=&quot;{$product.url}&quot;&gt;&lt;img src=&quot;{thumbnail path=$product['feature_image'] width=&quot;150&quot; height=&quot;150&quot;}&quot; alt=&quot;{$product.name}&quot; /&gt;&lt;/a&gt;
					{/if}
					&lt;a class=&quot;name&quot; href=&quot;{$product.url}&quot;&gt;{$product.name}&lt;/a&gt;
					&lt;div class=&quot;price&quot;&gt;{setting name=&quot;currency_symbol&quot;}{$product.price}&lt;/div&gt;
				&lt;/li&gt;
			{/foreach}
			&lt;/ul&gt;
		{/if}
	&lt;/div&gt;
	
	{if !$collections and !$products}
	&lt;p&gt;This collection is empty.  Add some categories and/or products to populate this page.&lt;/p&gt;
	{/if}
{/block}

</pre>

<h2>Template Plugins</h2>

<h3 class="method">{cart}</h3>

<p>Display all of the products/subscriptions in the active user's cart.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Parameters</td>
		</tr>
		<tr>
			<td class="parameter_name">Variable</td>
			<td class="is_required">Required?</td>
			<td class="parameter_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>var</td>
			<td>Required</td>
			<td>Specify the name for the returned variable array (e.g., "item" returns an array with keys like <span class="code">{$item.subtotal}</span>.</td>
		</tr>
	</tbody>
</table>

<p>Usage:</p>

<pre class="code brush: xml">

You have the following items in your cart:

&lt;ul class=&quot;cart&quot;&gt;
{cart var=&quot;item&quot;}
	&lt;li&gt;{$item.name} ({setting name=&quot;currency_symbol&quot;}{$item.$price} each) - {setting name=&quot;currency_symbol&quot;}{$item.$subtotal}&lt;/li&gt;
{/cart}
&lt;/ul&gt;

</pre>

<h3 class="method">{cart_total}</h3>

<p>Return the total price of the user's cart (without a prefixed currency symbol).</p>

<p>Usage:</p>

<pre class="code brush: php">

Total Cart Value: ${cart_total}

</pre>

<h3 class="method">{cart_items}</h3>

<p>Displays the total number of items in the cart.</p>

<p>Usage:</p>

<pre class="code brush: php">

You have {cart_items} items in your &lt;a href=&quot;{url path=&quot;store/cart&quot;}&quot;&gt;shopping cart&lt;/a&gt;.

</pre>

<h3 class="method">{collections}</h3>

<p>Retrieves store collections, with optional parameters.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Parameters</td>
		</tr>
		<tr>
			<td class="parameter_name">Variable</td>
			<td class="is_required">Required?</td>
			<td class="parameter_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>var</td>
			<td>Required</td>
			<td>Specify the name for the returned variable array (e.g., "collection" returns an array with keys like <span class="code">{$collection.name}</span>.</td>
		</tr>
		<tr>
			<td>parent</td>
			<td>No</td>
			<td>Specify a collection by collection ID, or a series of collection like "4|5|6" to pull only products from those collection.</td>
		</tr>
		<tr>
			<td>id</td>
			<td>No</td>
			<td>Specify a collection ID to pull specifically.</td>
		</tr>
	</tbody>
</table>


<p>Example:</p>

<pre class="code brush: xml">

&lt;div&gt;
	Our store categories:
	&lt;ul&gt;
		{collections var=&quot;collection&quot;}
		&lt;li&gt;&lt;a href=&quot;{$collection.url}&quot;&gt;{$collection.name}&lt;/a&gt; - {$collection.description}&lt;/li&gt;
		{/collections}
	&lt;/ul&gt;
&lt;/div&gt;

</pre>

<h3 class="method">{has_cart}</h3>

<p>Only show the content between the tags if the user has 1+ items in their cart.</p>

<p>Usage:</p>

<pre class="code brush: php">

{has_cart}
&lt;a href=&quot;{url path=&quot;store/cart&quot;}&quot;&gt;You have {cart_items} in your cart.&lt;/a&gt;
{/has_cart}

</pre>

<h3 class="method">{no_cart}</h3>

<p>Only show the content between the tags if the user doesn't have any items in their cart.</p>

<p>Usage:</p>

<pre class="code brush: php">

{no_cart}
&lt;a href=&quot;{url path=&quot;store&quot;}&quot;&gt;You don't have any items in your shopping cart - get shopping!.&lt;/a&gt;
{/no_cart}

</pre>

<h3 class="method">{products}</h3>

<p>Retrieve products based on a number of set parameters, or a fulltext keyword search.</p>

<table cellpadding="0" cellspacing="0">
	<thead>
		<tr class="title">
			<td colspan="3">Parameters</td>
		</tr>
		<tr>
			<td class="parameter_name">Variable</td>
			<td class="is_required">Required?</td>
			<td class="parameter_description">Description</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>var</td>
			<td>Required</td>
			<td>Specify the name for the returned variable array (e.g., "prod" returns an array with keys like <span class="code">{$prod.price}</span>.</td>
		</tr>
		<tr>
			<td>id</td>
			<td>No</td>
			<td>Specify a product ID to pull specifically.</td>
		</tr>
		<tr>
			<td>collection</td>
			<td>No</td>
			<td>Specify a collection by collection ID, or a series of collection like "4|5|6" to pull only products from those collection.</td>
		</tr>
		<tr>
			<td>keyword</td>
			<td>No</td>
			<td>Perform a fulltext search on the products database and retrieve only matching results.  If used, a <span class="code">{$var.relevance}</span> variable will also be available for each returned item.</td>
		</tr>
		<tr>
			<td>sort</td>
			<td>No</td>
			<td>Specify a database field to sort the results by (e.g., "products.product_name") (default: products.product_id).</td>
		</tr>
		<tr>
			<td>sort_dir<p>
			<td>No</td>
			<td>Specify whether to sort the results in ascending ("ASC") or descending ("DESC") order (default: DESC).</td>
		</tr>
		<tr>
			<td>limit</td>
			<td>No</td>
			<td>How many items should be retrieved? (default: unlimited)</td>
		</tr>
		<tr>
			<td>offset</td>
			<td>No</td>
			<td>If set, only content records after this number will be retrieved (e.g., passing "6" will return all records from the 7th record onward).</td>
		</tr>
	</tbody>
</table>


<p>Example - sorting by price to get the cheapest products in a specific collection:</p>

<pre class="code brush: xml">

&lt;div&gt;
	Our 5 cheapest products in the Women's collection:
	&lt;ul&gt;
		{products var=&quot;prod&quot; collection=&quot;5&quot; sort=&quot;product_price&quot; sort_dir=&quot;ASC&quot;}
		&lt;li&gt;{$prod.name} - {$prod.price}&lt;/li&gt;
		{/products}
	&lt;/ul&gt;
&lt;/div&gt;

</pre>
			</div>
		</div>
	</body>
</html>
<!-- /designers/reference-->